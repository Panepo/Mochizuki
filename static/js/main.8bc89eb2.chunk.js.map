{"version":3,"sources":["images/black.png","images/404.jpg","images/setting.jpg","images/sensor.jpg","reducers/createReducer.js","models/info.model.js","reducers/info.reducer.js","models/setting.model.js","reducers/setting.reducer.js","reducers/index.js","configureStore.jsx","withRoot.js","constants/link.constant.js","pages/Header.jsx","pages/Ribbon.jsx","pages/Footer.jsx","actions/info.action.js","environment.js","helpers/responsive.helper.js","componments/InfoBar.jsx","pages/Layout.jsx","pages/NotFound.jsx","pages/Home/Home.jsx","componments/Webcam.jsx","componments/WebcamRectDraw.jsx","pages/Setting/Setting.jsx","helpers/validate.helper.js","actions/setting.action.js","helpers/eye.helper.js","helpers/model.helper.js","componments/WebcamCrop.jsx","pages/Sensor/Loading.jsx","pages/Sensor/Sensor.jsx","pages/Validator/Loading.jsx","pages/Validator/Validator.jsx","App.jsx","ReduxRoot.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","__webpack_require__","p","createReducer","initialState","handlers","state","arguments","length","undefined","action","hasOwnProperty","type","actionInfo","INFO_SET","INFO_CLOSE","onoff","variant","message","info","_createReducer","Object","defineProperty","payload","objectSpread","actionSetting","SETTING_VIDEO","SETTING_RECT","rect","x","y","width","height","video","setting","setting_reducer_createReducer","rootReducer","history","combineReducers","router","connectRouter","createLogger","createBrowserHistory","basename","process","persistConfig","key","version","storage","localforage","whitelist","persistedReducer","persistReducer","middleware","applyMiddleware","thunk","routerMiddleware","store","createStore","persistor","persistStore","theme","createMuiTheme","palette","primary","deepOrange","secondary","teal","typography","useNextVariants","withRoot","Component","props","react_default","a","createElement","core_styles","CssBaseline_default","linkHeader","text","link","linkDrawer","Header","drawer","toggleDrawer","side","open","_this","setState","classes","this","renderLink","map","data","react","react_router_dom","to","Button_default","color","renderDrawer","List_default","ListItem_default","button","divider","component","href","ListItemIcon_default","Bookmarks_default","ListItemText_default","className","root","AppBar_default","position","appBar","Drawer_default","onClose","Typography_default","drawerTitle","noWrap","tabIndex","role","onClick","onKeyDown","Toolbar_default","IconButton_default","menuButton","aria-label","Menu_default","grow","React","withStyles","margin","spacing","unit","textAlign","marginTop","marginBottom","flexGrow","marginLeft","marginRight","background","fontSize","paddingLeft","paddingTop","infoSet","input","infoClose","environmentValuesLoader","title","urlDev","urlProd","GoogleAnalyticsID","videoCanvas","valiOriginal","useTinyFaceDetector","useTinyLandmark","tinyInputSize","tinyThreshold","ssdMinConfidence","ssdMaxResults","blinkEARThreshold","blinkTimeThreshold","freeze","allowMobile","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","InfoIcon","backgroundColor","green","dark","lightBlue","amber","icon","iconVariant","opacity","display","alignItems","other","objectWithoutProperties","Icon","SnackbarContent_default","assign","classNames","aria-describedby","id","close","Close_default","Layout","handleInfoClose","event","reason","renderHelmet","Helmet_default","charset","name","content","rel","environment","helmet","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","componments_InfoBar","Grid_default","container","grid","justify","item","xs","isWidthDown","gridPhone","gridNormal","defaultProps","connect","dispatch","withWidth","image404","require","card","minWidth","pages_Layout","Card_default","CardActionArea_default","src","alt","CardContent_default","gutterBottom","CardActions_default","Home","handleRedirect","push","CardHeader_default","avatar","Settings_default","subheader","Contacts_default","AddPhotoAlternate_default","withRouter","constrainStringType","PropTypes","oneOfType","string","arrayOf","shape","exact","ideal","constrainBooleanType","bool","constrainLongType","number","min","max","constrainDoubleType","Webcam","deviceId","groupId","autoGainControl","channelCount","latency","noiseSuppression","sampleRate","sampleSize","volume","aspectRatio","facingMode","frameRate","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","hasUserMedia","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mountedInstances","userMediaRequested","requestUserMedia","nextProps","JSON","stringify","audioConstraints","videoConstraints","index","indexOf","splice","stream","getVideoTracks","getAudioTracks","track","stop","window","URL","revokeObjectURL","canvas","getCanvas","toDataURL","screenshotFormat","screenshotQuality","videoHeight","ctx","document","videoWidth","canvasWidth","minScreenshotWidth","clientWidth","canvasHeight","minScreenshotHeight","getContext","imageSmoothingEnabled","imageSmoothing","drawImage","clipx","clipy","clipwidth","clipheight","_this2","sourceSelected","constraints","audio","then","forEach","instance","handleUserMedia","catch","e","optionalSource","optional","sourceId","constraintToSourceId","constraint","Array","isArray","MediaStreamTrack","getSources","sources","audioSource","videoSource","source","kind","audioSourceId","videoSourceId","err","onUserMediaError","srcObject","createObjectURL","onUserMedia","_this3","autoPlay","muted","playsInline","style","ref","WebcamRectDraw","isDrawing","isDisplaying","startx","starty","endx","endy","interval","handleRender","getElementById","idVideo","idCanvas","HTMLCanvasElement","HTMLVideoElement","strokeStyle","rectColor","lineWidth","Math","round","rectLine","_this$state","strokeRect","abs","handleMouseDown","getBoundingClientRect","posx","clientX","left","posy","clientY","top","handleMouseUp","handleGetPosition","handleMouseMove","handleMouseOut","_this$state2","getPosition","setInterval","tickRender","clearInterval","Webcam_Webcam","hidden","node","webcam","onMouseDown","onMouseUp","onMouseMove","onMouseOut","rectx","recty","rectwidth","rectheight","imageSetting","NumberFormatCustom","inputRef","onChange","number_format_default","getInputRef","onValueChange","values","target","value","allowNegative","Setting","handleWebcam","isPlaying","handleAccept","modifyRect","modifyVideo","handleCancel","rectError","videoError","handleInputRect","column","parseInt","isValid","errors","isEmpty","validateRect","handleInputVideo","validateVideo","renderButton","renderWebcamPower","Tooltip_default","Camera_default","Done_default","Cancel_default","renderWebCam","componments_WebcamRectDraw","renderInputRect","reduce","output","i","TextField_default","toString","label","helperText","formControl","onInput","InputProps","inputComponent","renderInputVideo","Divider_default","calcEAR","landmarks","eyeWidth","faceapi","EAR","floor","loadModel","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","ssdMobilenetv1","loadFromUri","faceLandmark68TinyNet","faceLandmark68Net","tinyFaceDetector","apply","modelInitial","_ref2","_callee2","canvasId","initial","_context2","inputSize","scoreThreshold","withFaceLandmarks","minConfidence","maxResults","_x","WebcamCrop","mulX","mulY","cropx","cropy","cropwidth","cropheight","imageBlack","paper","borderRadius","paddingBottom","paddingRight","LinearProgress_default","imageSensor","Sensor","isLoading","isSensing","processTime","tick","tickProcess","tickBlink","componentDidMount","clearRect","handleSense","_callee3","_context3","faceMain","abrupt","sent","_callee4","image","tend","anchor","drawOptions","_context4","faceRecognize","performance","now","anchorPosition","fontColor","DrawTextField","draw","_callee5","result","resizedResult","leftEye","rightEye","_context5","drawDetections","drawFaceLandmarks","getLeftEye","getRightEye","renderRecognize","webcamContainer","componments_WebcamCrop","webcamOverlay","Sensor_Loading","actionsI","bindActionCreators","zIndex","Validator","imageFile","handleUpload","files","dataTemp","scale","HTMLImageElement","naturalWidth","onload","naturalHeight","tstart","Validator_Loading","accept","required","minHeight","flexDirection","flex","esm","pages_Header","pages_Ribbon","react_router","path","NotFound","pages_Footer","ReduxRoot","es","integration_react","loading","src_App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","rootEl","ReactDOM","render","src_ReduxRoot","ReactGA","pathname","search","origin","addEventListener","concat","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.8bc89eb2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAYAAADPfd1WAAAUgklEQVR4nO3YQQ0AIBDAsAP/nkEFIVlaBXtvzcwZAAAAACBp/w4AAAAAAN4xAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAIAwAxAAAAAAwgxAAAAAAAgzAAEAAAAgzAAEAAAAgDADEAAAAADCDEAAAAAACDMAAQAAACDMAAQAAACAMAMQAAAAAMIMQAAAAAAIMwABAAAAIMwABAAAAICwC0cpBp8Rbaq9AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/404.c56a9fb2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/setting.e00d2382.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sensor.c942c23f.jpg\";","// @flow\r\n\r\nimport type { Action } from '../models/action.model'\r\n\r\nexport default function createReducer(initialState: Object, handlers: Object) {\r\n  return function reducer(state: Object = initialState, action: Action<any>) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action)\r\n    } else {\r\n      return state\r\n    }\r\n  }\r\n}\r\n","// @flow\r\n\r\nimport type Action from './action.model'\r\n\r\nexport const actionInfo = {\r\n  INFO_SET: 'INFO_SET',\r\n  INFO_CLOSE: 'INFO_CLOSE'\r\n}\r\n\r\nexport type StateInfo = {\r\n  onoff: boolean,\r\n  variant: 'success' | 'warning' | 'error' | 'info',\r\n  message: string\r\n}\r\n\r\nexport type ActionInfo = Action<StateInfo> | Action<null>\r\n","// @flow\r\nimport createReducer from './createReducer'\r\nimport type { Action } from '../models/action.model'\r\nimport { actionInfo } from '../models/info.model'\r\nimport type { StateInfo } from '../models/info.model'\r\n\r\nexport const initialState: StateInfo = {\r\n  onoff: false,\r\n  variant: 'info',\r\n  message: ''\r\n}\r\n\r\nexport const info = createReducer(initialState, {\r\n  [actionInfo.INFO_SET](state: StateInfo, action: Action<StateInfo>) {\r\n    return action.payload\r\n  },\r\n  [actionInfo.INFO_CLOSE](state: StateInfo, action: Action<null>) {\r\n    return { ...state, onoff: false }\r\n  }\r\n})\r\n","// @flow\r\n\r\nimport type Action from './action.model'\r\nimport type { CanvasRect, VideoConstraints } from './misc.model'\r\n\r\nexport const actionSetting = {\r\n  SETTING_VIDEO: 'SETTING_VIDEO',\r\n  SETTING_RECT: 'SETTING_RECT'\r\n}\r\n\r\nexport type ActionSetting = Action<Object>\r\n\r\nexport type StateSetting = {\r\n  rect: CanvasRect,\r\n  video: VideoConstraints\r\n}\r\n","// @flow\r\nimport createReducer from './createReducer'\r\nimport type { Action } from '../models/action.model'\r\nimport { actionSetting } from '../models/setting.model'\r\nimport type { StateSetting } from '../models/setting.model'\r\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\r\n\r\nexport const initialState: StateSetting = {\r\n  rect: { x: 100, y: 100, width: 100, height: 100 },\r\n  video: {\r\n    width: 1280,\r\n    height: 720\r\n  }\r\n}\r\n\r\nexport const setting = createReducer(initialState, {\r\n  [actionSetting.SETTING_VIDEO](\r\n    state: StateSetting,\r\n    action: Action<VideoConstraints>\r\n  ) {\r\n    return { ...state, video: action.payload }\r\n  },\r\n  [actionSetting.SETTING_RECT](\r\n    state: StateSetting,\r\n    action: Action<CanvasRect>\r\n  ) {\r\n    return { ...state, rect: action.payload }\r\n  }\r\n})\r\n","import { combineReducers } from 'redux'\r\nimport type { History } from 'history'\r\nimport { connectRouter } from 'connected-react-router'\r\nimport * as info from './info.reducer'\r\nimport * as setting from './setting.reducer'\r\n\r\nconst rootReducer = (history: History) =>\r\n  combineReducers({\r\n    router: connectRouter(history),\r\n    ...info,\r\n    ...setting\r\n  })\r\n\r\nexport default rootReducer\r\n","import { createBrowserHistory } from 'history'\r\nimport { applyMiddleware, createStore } from 'redux'\r\nimport { routerMiddleware } from 'connected-react-router'\r\nimport thunk from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport { persistReducer, persistStore } from 'redux-persist'\r\nimport type { PersistConfig } from 'redux-persist'\r\nimport * as localforage from 'localforage'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport rootReducer from './reducers'\r\n\r\nconst logger = createLogger()\r\nexport const history = createBrowserHistory({\r\n  basename: process.env.PUBLIC_URL\r\n})\r\n\r\nconst persistConfig: PersistConfig = {\r\n  key: 'root',\r\n  version: 1,\r\n  storage: localforage,\r\n  whitelist: ['setting']\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history))\r\n\r\nconst dev = process.env.NODE_ENV === 'development'\r\n\r\nvar middleware = dev\r\n  ? applyMiddleware(logger, thunk, routerMiddleware(history))\r\n  : applyMiddleware(thunk, routerMiddleware(history))\r\n\r\nif (dev) {\r\n  middleware = composeWithDevTools(middleware)\r\n}\r\n\r\nexport const store = createStore(persistedReducer, {}, middleware)\r\nexport const persistor = persistStore(store)\r\n","// @flow\r\n\r\nimport React from 'react'\r\nimport type { ComponentType } from 'react'\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport teal from '@material-ui/core/colors/teal'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport 'typeface-roboto'\r\n\r\n// A theme with custom primary and secondary color.\r\n// It's optional.\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: deepOrange,\r\n    secondary: teal\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n})\r\n\r\nfunction withRoot(Component: ComponentType<*>) {\r\n  function WithRoot(props: Object) {\r\n    // MuiThemeProvider makes the theme available down the React tree\r\n    // thanks to React context.\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n        <CssBaseline />\r\n        <Component {...props} />\r\n      </MuiThemeProvider>\r\n    )\r\n  }\r\n\r\n  return WithRoot\r\n}\r\n\r\nexport default withRoot\r\n","// @flow\r\n\r\nimport type { LinkSite } from '../models/misc.model'\r\n\r\nexport const linkHeader: LinkSite[] = [\r\n  { text: 'Home', link: '/home' },\r\n  { text: 'Setting', link: '/setting' },\r\n  { text: 'Sensor', link: '/sensor' },\r\n  { text: 'Validator', link: '/validator' }\r\n]\r\n\r\nexport const linkDrawer: LinkSite[] = [\r\n  {\r\n    text: 'Eye Blink Detection',\r\n    link: 'http://vision.fe.uni-lj.si/cvww2016/proceedings/papers/05.pdf'\r\n  },\r\n  {\r\n    text: 'face-api.js',\r\n    link: 'https://github.com/justadudewhohacks/face-api.js'\r\n  },\r\n  { text: 'Tensorflow', link: 'https://www.tensorflow.org/' },\r\n  { text: 'Tensorflow.js', link: 'https://js.tensorflow.org/' },\r\n  { text: 'React', link: 'https://facebook.github.io/react/' },\r\n  { text: 'Redux', link: 'http://redux.js.org/' },\r\n  { text: 'Material Design Lite', link: 'https://getmdl.io/' },\r\n  { text: 'Material-UI', link: 'https://material-ui.com/' }\r\n]\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport IconBookmark from '@material-ui/icons/Bookmarks'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { linkDrawer, linkHeader } from '../constants/link.constant'\r\nimport type { LinkSite } from '../models/misc.model'\r\n\r\nconst styles = (theme: Object) => ({\r\n  root: {},\r\n  appBar: {\r\n    position: 'relative'\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit\r\n  },\r\n  drawer: {\r\n    color: '#616161'\r\n  },\r\n  drawerTitle: {\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 10\r\n  },\r\n  grow: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    color: '#ff6699',\r\n    marginLeft: -12,\r\n    marginRight: 20\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object\r\n}\r\n\r\ntype Props = {}\r\n\r\ntype State = {\r\n  drawer: boolean\r\n}\r\n\r\nclass Header extends React.Component<ProvidedProps & Props, State> {\r\n  state = {\r\n    drawer: false\r\n  }\r\n\r\n  toggleDrawer = (side: string, open: boolean) => () => {\r\n    this.setState({\r\n      [side]: open\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\r\n    const renderLink = linkHeader.map((data: LinkSite) => (\r\n      <Link to={data.link} key={data.text}>\r\n        <Button color=\"primary\">{data.text}</Button>\r\n      </Link>\r\n    ))\r\n\r\n    const renderDrawer = (\r\n      <List>\r\n        {linkDrawer.map((data: LinkSite) => (\r\n          <ListItem\r\n            button\r\n            divider\r\n            key={data.text}\r\n            component=\"a\"\r\n            href={data.link}>\r\n            <ListItemIcon>\r\n              <IconBookmark color=\"secondary\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary={data.text} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    )\r\n\r\n    return (\r\n      <header className={classes.root}>\r\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appBar}>\r\n          <Drawer\r\n            className={classes.drawer}\r\n            open={this.state.drawer}\r\n            onClose={this.toggleDrawer('drawer', false)}>\r\n            <Typography\r\n              className={classes.drawerTitle}\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n              noWrap>\r\n              Reference\r\n            </Typography>\r\n            <div\r\n              tabIndex={0}\r\n              role=\"button\"\r\n              onClick={this.toggleDrawer('drawer', false)}\r\n              onKeyDown={this.toggleDrawer('drawer', false)}>\r\n              {renderDrawer}\r\n            </div>\r\n          </Drawer>\r\n          <Toolbar>\r\n            <IconButton\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"Menu\"\r\n              onClick={this.toggleDrawer('drawer', true)}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n              className={classes.grow}\r\n              noWrap>\r\n              Mochizuki\r\n            </Typography>\r\n            {renderLink}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Header)\r\n","// @flow\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = (theme: Object) => ({\r\n  root: {\r\n    width: '100%',\r\n    height: '60vh',\r\n    background: 'linear-gradient(165deg, #ff5722 30%, #ffff00, #cddc39)'\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst Ribbon = (props: Props) => {\r\n  return <div className={props.classes.root} />\r\n}\r\n\r\nRibbon.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Ribbon)\r\n","// @flow\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = (theme: Object) => ({\r\n  root: {\r\n    background: '#424242',\r\n    height: '60px',\r\n    width: '100%'\r\n  },\r\n  text: {\r\n    color: '#BDBDBD',\r\n    fontSize: '13px',\r\n    paddingLeft: '40px',\r\n    paddingTop: '20px'\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst Footer = (props: Props) => {\r\n  return (\r\n    <footer className={props.classes.root}>\r\n      <Typography className={props.classes.text}>\r\n        Copyright &copy; Panepo@Github 2019 All Rights Reserved.\r\n      </Typography>\r\n    </footer>\r\n  )\r\n}\r\n\r\nFooter.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Footer)\r\n","// @flow\r\n\r\nimport { Action } from '../models/action.model'\r\nimport { actionInfo } from '../models/info.model'\r\nimport type { StateInfo } from '../models/info.model'\r\n\r\nexport function infoSet(input: StateInfo): Action<StateInfo> {\r\n  return {\r\n    type: actionInfo.INFO_SET,\r\n    payload: input\r\n  }\r\n}\r\n\r\nexport function infoClose(): Action<null> {\r\n  return {\r\n    type: actionInfo.INFO_CLOSE,\r\n    payload: null\r\n  }\r\n}\r\n","class EnvironmentValues {\r\n  title = 'Mochizuki'\r\n\r\n  urlDev = '/'\r\n  urlProd = '/'\r\n\r\n  GoogleAnalyticsID = 'UA-106126363-3'\r\n\r\n  // Video options\r\n  videoCanvas = {\r\n    width: 640,\r\n    height: 360\r\n  }\r\n\r\n  valiOriginal = false\r\n\r\n  useTinyFaceDetector = true\r\n  useTinyLandmark = true\r\n\r\n  // TinyFaceDetector options\r\n  tinyInputSize = 160\r\n  tinyThreshold = 0.5\r\n\r\n  // SSD Mobilenet v1 options\r\n  ssdMinConfidence = 0.5\r\n  ssdMaxResults = 10\r\n\r\n  // Blink detection options\r\n  blinkEARThreshold = 0.4\r\n  blinkTimeThreshold = 500\r\n}\r\n\r\n// Export as singleton\r\nconst environmentValuesLoader = new EnvironmentValues()\r\nObject.freeze(environmentValuesLoader)\r\nexport { environmentValuesLoader as environment }\r\n","// @flow\r\n\r\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints'\r\nimport { isWidthDown, isWidthUp } from '@material-ui/core/withWidth'\r\n\r\nconst allowMobile = true\r\nexport function isSmartphone(width: Breakpoint): boolean {\r\n  return allowMobile && isWidthDown('xs', width)\r\n}\r\n\r\nexport function isTablet(width: Breakpoint): boolean {\r\n  return allowMobile && isWidthDown('sm', width)\r\n}\r\n\r\nexport function isMobile(width: Breakpoint): boolean {\r\n  return allowMobile && isTablet(width)\r\n}\r\n\r\nexport function isDesktop(width: Breakpoint): boolean {\r\n  return !allowMobile || isWidthUp('md', width)\r\n}\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport green from '@material-ui/core/colors/green'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport lightBlue from '@material-ui/core/colors/lightBlue'\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon\r\n}\r\n\r\nconst styles = (theme: Object) => ({\r\n  success: {\r\n    backgroundColor: green[600]\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark\r\n  },\r\n  info: {\r\n    backgroundColor: lightBlue[900]\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700]\r\n  },\r\n  icon: {\r\n    fontSize: 20\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object,\r\n  className: string,\r\n  message: string,\r\n  onClose: () => {},\r\n  variant: 'success' | 'warning' | 'error' | 'info'\r\n}\r\n\r\nconst InfoBar = (props: Props) => {\r\n  const { classes, className, message, onClose, variant, ...other } = props\r\n  const Icon = variantIcon[variant]\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={classNames(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={classNames(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"Close\"\r\n          color=\"inherit\"\r\n          className={classes.close}\r\n          onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>\r\n      ]}\r\n      {...other}\r\n    />\r\n  )\r\n}\r\n\r\nInfoBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  message: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired\r\n}\r\n\r\nexport default withStyles(styles)(InfoBar)\r\n","// @flow\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport * as actionInfo from '../actions/info.action'\r\nimport type { RootState, Dispatch } from '../models'\r\nimport type { StateInfo } from '../models/info.model'\r\nimport type { Node } from 'react'\r\nimport Helmet from 'react-helmet'\r\nimport { environment } from '../environment'\r\nimport { withStyles, withWidth } from '@material-ui/core'\r\nimport { isSmartphone } from '../helpers/responsive.helper'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport InfoBar from '../componments/InfoBar'\r\n\r\nconst styles = (theme: Object) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%'\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object,\r\n  width: string\r\n}\r\n\r\ntype Props = {\r\n  helmet: boolean,\r\n  title: string,\r\n  content: Node,\r\n  gridNormal: number,\r\n  gridPhone: number,\r\n  info: StateInfo,\r\n  infoClose: () => {}\r\n}\r\n\r\nclass Layout extends React.Component<ProvidedProps & Props> {\r\n  static defaultProps = {\r\n    helmet: false,\r\n    title: 'title',\r\n    gridNormal: 4,\r\n    gridPhone: 8\r\n  }\r\n\r\n  handleInfoClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return\r\n    }\r\n    this.props.infoClose()\r\n  }\r\n\r\n  render() {\r\n    const renderHelmet = (\r\n      <Helmet>\r\n        <meta charset=\"utf-8\" />\r\n        <meta\r\n          name=\"viewport\"\r\n          content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\r\n        />\r\n        <meta name=\"author\" content=\"Panepo@github\" />\r\n        <link rel=\"manifest\" href=\"./manifest.json\" />\r\n        <link rel=\"shortcut icon\" href=\"./favicon.ico\" />\r\n        <title>{this.props.title + ' | ' + environment.title}</title>\r\n      </Helmet>\r\n    )\r\n\r\n    return (\r\n      <main className={this.props.classes.root}>\r\n        {this.props.helmet ? renderHelmet : null}\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left'\r\n          }}\r\n          open={this.props.info.onoff}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleInfoClose}>\r\n          <InfoBar\r\n            onClose={this.handleInfoClose}\r\n            variant={this.props.info.variant}\r\n            message={this.props.info.message}\r\n          />\r\n        </Snackbar>\r\n        <Grid\r\n          container={true}\r\n          className={this.props.classes.grid}\r\n          justify=\"center\">\r\n          <Grid\r\n            item={true}\r\n            xs={\r\n              isSmartphone(this.props.width)\r\n                ? this.props.gridPhone\r\n                : this.props.gridNormal\r\n            }>\r\n            {this.props.content}\r\n          </Grid>\r\n        </Grid>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n\r\nLayout.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  content: PropTypes.element.isRequired,\r\n  helmet: PropTypes.bool,\r\n  title: PropTypes.string,\r\n  gridNormal: PropTypes.number,\r\n  gridPhone: PropTypes.number,\r\n  info: PropTypes.shape({\r\n    onoff: PropTypes.bool.isRequired,\r\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info'])\r\n      .isRequired,\r\n    message: PropTypes.string.isRequired\r\n  })\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  return {\r\n    info: state.info\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    infoClose: () => {\r\n      dispatch(actionInfo.infoClose())\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withWidth()(withStyles(styles)(Layout)))\r\n","// @flow\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Layout from './Layout'\r\nimport { Link } from 'react-router-dom'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst image404 = require('../images/404.jpg')\r\n\r\nconst styles = (theme: Object) => ({\r\n  card: {\r\n    minWidth: 275\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst NotFound = (props: Props) => {\r\n  return (\r\n    <Layout\r\n      helmet={true}\r\n      title={'File Not Found'}\r\n      content={\r\n        <Card className={props.classes.card}>\r\n          <CardActionArea>\r\n            <img src={image404} alt={'404'} width={640} height={480} />\r\n          </CardActionArea>\r\n          <CardContent>\r\n            <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n              File Not Found\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions>\r\n            <Link to=\"/home\">\r\n              <Button color=\"primary\">Home</Button>\r\n            </Link>\r\n          </CardActions>\r\n        </Card>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nNotFound.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(NotFound)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport type { RouterHistory } from '../../models'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Layout from '../Layout'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport IconSettings from '@material-ui/icons/Settings'\r\nimport IconSensor from '@material-ui/icons/Contacts'\r\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\r\n\r\nconst styles = (theme: Object) => ({\r\n  card: {\r\n    minWidth: 275,\r\n    marginBottom: theme.spacing.unit\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object,\r\n  history: RouterHistory\r\n}\r\n\r\ntype Props = {}\r\n\r\nclass Home extends React.Component<ProvidedProps & Props> {\r\n  handleRedirect = (link: string) => () => {\r\n    this.props.history.push('/' + link)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout\r\n        helmet={true}\r\n        title={'Home'}\r\n        gridNormal={10}\r\n        gridPhone={12}\r\n        content={\r\n          <Grid\r\n            container={true}\r\n            className={this.props.classes.grid}\r\n            spacing={16}\r\n            justify=\"center\">\r\n            <Grid item={true} xs={4}>\r\n              <Card className={this.props.classes.card}>\r\n                <CardActionArea onClick={this.handleRedirect('setting')}>\r\n                  <CardHeader\r\n                    avatar={<IconSettings color={'primary'} />}\r\n                    title={\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Setting\r\n                      </Typography>\r\n                    }\r\n                    subheader={\r\n                      'Configure your camera to fetch the best vision.'\r\n                    }\r\n                  />\r\n                </CardActionArea>\r\n              </Card>\r\n              <Card className={this.props.classes.card}>\r\n                <CardActionArea onClick={this.handleRedirect('sensor')}>\r\n                  <CardHeader\r\n                    avatar={<IconSensor color={'primary'} />}\r\n                    title={\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Sensor\r\n                      </Typography>\r\n                    }\r\n                    subheader={'Start the sensor to detect drowsiness.'}\r\n                  />\r\n                </CardActionArea>\r\n              </Card>\r\n              <Card className={this.props.classes.card}>\r\n                <CardActionArea onClick={this.handleRedirect('validator')}>\r\n                  <CardHeader\r\n                    avatar={<IconAdd color={'primary'} />}\r\n                    title={\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Validator\r\n                      </Typography>\r\n                    }\r\n                    subheader={'Upload an picture to validate the sensor'}\r\n                  />\r\n                </CardActionArea>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nHome.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(withRouter(Home))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction hasGetUserMedia() {\r\n  return !!(\r\n    (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ||\r\n    navigator.webkitGetUserMedia ||\r\n    navigator.mozGetUserMedia ||\r\n    navigator.msGetUserMedia\r\n  )\r\n}\r\n\r\nconst constrainStringType = PropTypes.oneOfType([\r\n  PropTypes.string,\r\n  PropTypes.arrayOf(PropTypes.string),\r\n  PropTypes.shape({\r\n    exact: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.arrayOf(PropTypes.string)\r\n    ])\r\n  }),\r\n  PropTypes.shape({\r\n    ideal: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.arrayOf(PropTypes.string)\r\n    ])\r\n  })\r\n])\r\n\r\nconst constrainBooleanType = PropTypes.oneOfType([\r\n  PropTypes.shape({\r\n    exact: PropTypes.bool\r\n  }),\r\n  PropTypes.shape({\r\n    ideal: PropTypes.bool\r\n  })\r\n])\r\n\r\nconst constrainLongType = PropTypes.oneOfType([\r\n  PropTypes.number,\r\n  PropTypes.shape({\r\n    exact: PropTypes.number,\r\n    ideal: PropTypes.number,\r\n    min: PropTypes.number,\r\n    max: PropTypes.number\r\n  })\r\n])\r\n\r\nconst constrainDoubleType = constrainLongType\r\n\r\nexport const audioConstraintType = PropTypes.shape({\r\n  deviceId: constrainStringType,\r\n  groupId: constrainStringType,\r\n  autoGainControl: constrainBooleanType,\r\n  channelCount: constrainLongType,\r\n  latency: constrainDoubleType,\r\n  noiseSuppression: constrainBooleanType,\r\n  sampleRate: constrainLongType,\r\n  sampleSize: constrainLongType,\r\n  volume: constrainDoubleType\r\n})\r\n\r\nexport const videoConstraintType = PropTypes.shape({\r\n  deviceId: constrainStringType,\r\n  groupId: constrainStringType,\r\n  aspectRatio: constrainDoubleType,\r\n  facingMode: constrainStringType,\r\n  frameRate: constrainDoubleType,\r\n  height: constrainLongType,\r\n  width: constrainLongType\r\n})\r\n\r\nexport default class Webcam extends Component {\r\n  static defaultProps = {\r\n    id: 'react-webcam',\r\n    audio: true,\r\n    className: '',\r\n    height: 480,\r\n    imageSmoothing: true,\r\n    onUserMedia: () => {},\r\n    onUserMediaError: () => {},\r\n    screenshotFormat: 'image/webp',\r\n    width: 640,\r\n    screenshotQuality: 0.92\r\n  }\r\n\r\n  static propTypes = {\r\n    id: PropTypes.string,\r\n    audio: PropTypes.bool,\r\n    onUserMedia: PropTypes.func,\r\n    onUserMediaError: PropTypes.func,\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    screenshotFormat: PropTypes.oneOf([\r\n      'image/webp',\r\n      'image/png',\r\n      'image/jpeg'\r\n    ]),\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    screenshotQuality: PropTypes.number,\r\n    minScreenshotWidth: PropTypes.number,\r\n    minScreenshotHeight: PropTypes.number,\r\n    audioConstraints: audioConstraintType,\r\n    videoConstraints: videoConstraintType,\r\n    imageSmoothing: PropTypes.bool\r\n  }\r\n\r\n  static mountedInstances = []\r\n\r\n  static userMediaRequested = false\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      hasUserMedia: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!hasGetUserMedia()) return\r\n\r\n    Webcam.mountedInstances.push(this)\r\n\r\n    if (!this.state.hasUserMedia && !Webcam.userMediaRequested) {\r\n      this.requestUserMedia()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(nextProps) {\r\n    if (\r\n      JSON.stringify(nextProps.audioConstraints) !==\r\n        JSON.stringify(this.props.audioConstraints) ||\r\n      JSON.stringify(nextProps.videoConstraints) !==\r\n        JSON.stringify(this.props.videoConstraints)\r\n    ) {\r\n      this.requestUserMedia()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const index = Webcam.mountedInstances.indexOf(this)\r\n    Webcam.mountedInstances.splice(index, 1)\r\n\r\n    Webcam.userMediaRequested = false\r\n    if (Webcam.mountedInstances.length === 0 && this.state.hasUserMedia) {\r\n      if (this.stream.getVideoTracks && this.stream.getAudioTracks) {\r\n        this.stream.getVideoTracks().map(track => track.stop())\r\n        this.stream.getAudioTracks().map(track => track.stop())\r\n      } else {\r\n        this.stream.stop()\r\n      }\r\n      window.URL.revokeObjectURL(this.state.src)\r\n    }\r\n  }\r\n\r\n  getScreenshot() {\r\n    if (!this.state.hasUserMedia) return null\r\n\r\n    const canvas = this.getCanvas()\r\n    return (\r\n      canvas &&\r\n      canvas.toDataURL(\r\n        this.props.screenshotFormat,\r\n        this.props.screenshotQuality\r\n      )\r\n    )\r\n  }\r\n\r\n  getCanvas() {\r\n    if (!this.state.hasUserMedia || !this.video.videoHeight) return null\r\n\r\n    if (!this.ctx) {\r\n      const canvas = document.createElement('canvas')\r\n      const aspectRatio = this.video.videoWidth / this.video.videoHeight\r\n\r\n      var canvasWidth = this.props.minScreenshotWidth || this.video.clientWidth\r\n      var canvasHeight = canvasWidth / aspectRatio\r\n\r\n      if (\r\n        this.props.minScreenshotHeight &&\r\n        canvasHeight < this.props.minScreenshotHeight\r\n      ) {\r\n        canvasHeight = this.props.minScreenshotHeight\r\n        canvasWidth = canvasHeight * aspectRatio\r\n      }\r\n\r\n      canvas.width = canvasWidth\r\n      canvas.height = canvasHeight\r\n\r\n      this.canvas = canvas\r\n      this.ctx = canvas.getContext('2d')\r\n    }\r\n\r\n    const { ctx, canvas } = this\r\n    ctx.imageSmoothingEnabled = this.props.imageSmoothing\r\n    ctx.drawImage(\r\n      this.video,\r\n      this.props.clipx,\r\n      this.props.clipy,\r\n      this.props.clipwidth,\r\n      this.props.clipheight,\r\n      0,\r\n      0,\r\n      canvas.width,\r\n      canvas.height\r\n    )\r\n\r\n    return canvas\r\n  }\r\n\r\n  requestUserMedia() {\r\n    navigator.getUserMedia =\r\n      navigator.mediaDevices.getUserMedia ||\r\n      navigator.webkitGetUserMedia ||\r\n      navigator.mozGetUserMedia ||\r\n      navigator.msGetUserMedia\r\n\r\n    const sourceSelected = (audioConstraints, videoConstraints) => {\r\n      const constraints = {\r\n        video: videoConstraints || true\r\n      }\r\n\r\n      if (this.props.audio) {\r\n        constraints.audio = audioConstraints || true\r\n      }\r\n\r\n      navigator.mediaDevices\r\n        .getUserMedia(constraints)\r\n        .then(stream => {\r\n          Webcam.mountedInstances.forEach(instance =>\r\n            instance.handleUserMedia(null, stream)\r\n          )\r\n        })\r\n        .catch(e => {\r\n          Webcam.mountedInstances.forEach(instance =>\r\n            instance.handleUserMedia(e)\r\n          )\r\n        })\r\n    }\r\n\r\n    if ('mediaDevices' in navigator) {\r\n      sourceSelected(this.props.audioConstraints, this.props.videoConstraints)\r\n    } else {\r\n      const optionalSource = id => ({ optional: [{ sourceId: id }] })\r\n\r\n      const constraintToSourceId = constraint => {\r\n        const deviceId = (constraint || {}).deviceId\r\n\r\n        if (typeof deviceId === 'string') {\r\n          return deviceId\r\n        } else if (Array.isArray(deviceId) && deviceId.length > 0) {\r\n          return deviceId[0]\r\n        } else if (typeof deviceId === 'object' && deviceId.ideal) {\r\n          return deviceId.ideal\r\n        }\r\n\r\n        return null\r\n      }\r\n\r\n      MediaStreamTrack.getSources(sources => {\r\n        let audioSource = null\r\n        let videoSource = null\r\n\r\n        sources.forEach(source => {\r\n          if (source.kind === 'audio') {\r\n            audioSource = source.id\r\n          } else if (source.kind === 'video') {\r\n            videoSource = source.id\r\n          }\r\n        })\r\n\r\n        const audioSourceId = constraintToSourceId(this.props.audioConstraints)\r\n        if (audioSourceId) {\r\n          audioSource = audioSourceId\r\n        }\r\n\r\n        const videoSourceId = constraintToSourceId(this.props.videoConstraints)\r\n        if (videoSourceId) {\r\n          videoSource = videoSourceId\r\n        }\r\n\r\n        sourceSelected(optionalSource(audioSource), optionalSource(videoSource))\r\n      })\r\n    }\r\n\r\n    Webcam.userMediaRequested = true\r\n  }\r\n\r\n  handleUserMedia(err, stream) {\r\n    if (err) {\r\n      this.setState({ hasUserMedia: false })\r\n      this.props.onUserMediaError(err)\r\n\r\n      return\r\n    }\r\n\r\n    this.stream = stream\r\n\r\n    try {\r\n      this.video.srcObject = stream\r\n      this.setState({ hasUserMedia: true })\r\n    } catch (error) {\r\n      this.setState({\r\n        hasUserMedia: true,\r\n        src: window.URL.createObjectURL(stream)\r\n      })\r\n    }\r\n\r\n    this.props.onUserMedia()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <video\r\n        autoPlay\r\n        id={this.props.id}\r\n        width={this.props.width}\r\n        height={this.props.height}\r\n        src={this.state.src}\r\n        muted={this.props.audio}\r\n        className={this.props.className}\r\n        playsInline\r\n        style={this.props.style}\r\n        ref={ref => {\r\n          this.video = ref\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = (theme: Object) => ({\r\n  hidden: {\r\n    display: 'none'\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object\r\n}\r\n\r\ntype Props = {\r\n  classes: Object,\r\n  rect: {\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number\r\n  },\r\n  rectLine: number,\r\n  rectColor: string,\r\n  audio: boolean,\r\n  videoWidth: number,\r\n  videoHeight: number,\r\n  tickRender: number,\r\n  idVideo: string,\r\n  idCanvas: string,\r\n  audioConstraints: Object,\r\n  videoConstraints: Object,\r\n  getPosition: ({ x: number, y: number, width: number, height: number }) => {}\r\n}\r\n\r\ntype State = {\r\n  isDrawing: boolean,\r\n  isDisplaying: boolean,\r\n  startx: number,\r\n  starty: number,\r\n  endx: number,\r\n  endy: number\r\n}\r\n\r\nclass WebcamRectDraw extends React.Component<ProvidedProps & Props, State> {\r\n  state = {\r\n    isDrawing: false,\r\n    isDisplaying: this.props.rect ? true : false,\r\n    startx: this.props.rect ? this.props.rect.x : 0,\r\n    starty: this.props.rect ? this.props.rect.y : 0,\r\n    endx: this.props.rect ? this.props.rect.x + this.props.rect.width : 0,\r\n    endy: this.props.rect ? this.props.rect.y + this.props.rect.height : 0\r\n  }\r\n\r\n  static propTypes = {\r\n    idVideo: PropTypes.string,\r\n    idCanvas: PropTypes.string,\r\n    classes: PropTypes.object.isRequired,\r\n    videoWidth: PropTypes.number.isRequired,\r\n    videoHeight: PropTypes.number.isRequired,\r\n    tickRender: PropTypes.number.isRequired,\r\n    audio: PropTypes.bool.isRequired,\r\n    rect: PropTypes.shape({\r\n      x: PropTypes.number,\r\n      y: PropTypes.number,\r\n      width: PropTypes.number,\r\n      height: PropTypes.number\r\n    }),\r\n    rectColor: PropTypes.string.isRequired,\r\n    rectLine: PropTypes.number.isRequired,\r\n    audioConstraints: audioConstraintType,\r\n    videoConstraints: videoConstraintType,\r\n    getPosition: PropTypes.func\r\n  }\r\n\r\n  static defaultProps = {\r\n    idVideo: 'react-webcam-rect',\r\n    idCanvas: 'react-webcam-rect-canvas',\r\n    videoWidth: 640,\r\n    videoHeight: 360,\r\n    tickRender: 100,\r\n    audio: false,\r\n    rectx: 0,\r\n    recty: 0,\r\n    rectwidth: 640,\r\n    rectheight: 360,\r\n    rectColor: 'yellow',\r\n    rectLine: 4\r\n  }\r\n  interval: number = 0\r\n  webcam: HTMLVideoElement | null\r\n\r\n  componentDidMount() {\r\n    this.interval = window.setInterval(\r\n      () => this.handleRender(),\r\n      this.props.tickRender\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearInterval(this.interval)\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: ProvidedProps & Props) {\r\n    this.setState({\r\n      isDisplaying: true,\r\n      startx: nextProps.rect.x,\r\n      starty: nextProps.rect.y,\r\n      endx: nextProps.rect.x + nextProps.rect.width,\r\n      endy: nextProps.rect.y + nextProps.rect.height\r\n    })\r\n  }\r\n\r\n  handleRender = () => {\r\n    const video = document.getElementById(this.props.idVideo)\r\n    const canvas = document.getElementById(this.props.idCanvas)\r\n\r\n    if (\r\n      canvas instanceof HTMLCanvasElement &&\r\n      video instanceof HTMLVideoElement\r\n    ) {\r\n      canvas.width = this.props.videoWidth\r\n      const ctx = canvas.getContext('2d')\r\n      ctx.drawImage(\r\n        video,\r\n        0,\r\n        0,\r\n        this.props.videoConstraints.width,\r\n        this.props.videoConstraints.height,\r\n        0,\r\n        0,\r\n        this.props.videoWidth,\r\n        this.props.videoHeight\r\n      )\r\n      if (this.state.isDisplaying) {\r\n        ctx.strokeStyle = this.props.rectColor\r\n        ctx.lineWidth = this.state.isDrawing\r\n          ? Math.round(this.props.rectLine / 2)\r\n          : this.props.rectLine\r\n\r\n        const { startx, starty, endx, endy } = this.state\r\n\r\n        ctx.strokeRect(\r\n          startx > endx ? endx : startx,\r\n          starty > endy ? endy : starty,\r\n          Math.abs(startx - endx),\r\n          Math.abs(starty - endy)\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  handleMouseDown = event => {\r\n    const canvas = document.getElementById(this.props.idCanvas)\r\n    if (canvas instanceof HTMLCanvasElement) {\r\n      const rect = canvas.getBoundingClientRect()\r\n      const posx = event.clientX - rect.left\r\n      const posy = event.clientY - rect.top\r\n      this.setState({\r\n        isDisplaying: true,\r\n        isDrawing: true,\r\n        startx: posx,\r\n        starty: posy,\r\n        endx: posx,\r\n        endy: posy\r\n      })\r\n    }\r\n  }\r\n\r\n  handleMouseUp = () => {\r\n    this.setState({ isDrawing: false })\r\n    this.handleGetPosition()\r\n  }\r\n\r\n  handleMouseMove = event => {\r\n    if (this.state.isDrawing) {\r\n      const canvas = document.getElementById(this.props.idCanvas)\r\n      if (canvas instanceof HTMLCanvasElement) {\r\n        const rect = canvas.getBoundingClientRect()\r\n        this.setState({\r\n          endx: event.clientX - rect.left,\r\n          endy: event.clientY - rect.top\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleMouseOut = () => {\r\n    if (this.state.isDrawing) {\r\n      this.setState({\r\n        isDrawing: false,\r\n        isDisplaying: false\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPosition = () => {\r\n    const { startx, starty, endx, endy } = this.state\r\n    const rect = {\r\n      x: Math.round(startx > endx ? endx : startx),\r\n      y: Math.round(starty > endy ? endy : starty),\r\n      width: Math.abs(startx - endx),\r\n      height: Math.abs(starty - endy)\r\n    }\r\n    this.props.getPosition(rect)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Webcam\r\n          className={this.props.classes.hidden}\r\n          id={this.props.idVideo}\r\n          audio={this.props.audio}\r\n          width={this.props.videoWidth}\r\n          height={this.props.videoHeight}\r\n          ref={node => (this.webcam = node)}\r\n          videoConstraints={this.props.videoConstraints}\r\n          audioConstraints={this.props.audioConstraints}\r\n        />\r\n        <canvas\r\n          id={this.props.idCanvas}\r\n          width={this.props.videoWidth}\r\n          height={this.props.videoHeight}\r\n          onMouseDown={this.handleMouseDown}\r\n          onMouseUp={this.handleMouseUp}\r\n          onMouseMove={this.handleMouseMove}\r\n          onMouseOut={this.handleMouseOut}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(WebcamRectDraw)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport * as actionSetting from '../../actions/setting.action'\r\nimport * as actionInfo from '../../actions/info.action'\r\nimport type { RootState, Dispatch } from '../../models'\r\nimport type { StateSetting } from '../../models/setting.model'\r\nimport type { StateInfo } from '../../models/info.model'\r\nimport type {\r\n  CanvasRect,\r\n  CanvasRectError,\r\n  VideoConstraints,\r\n  VideoConstraintsError\r\n} from '../../models/misc.model'\r\nimport NumberFormat from 'react-number-format'\r\nimport WebcamRectDraw from '../../componments/WebcamRectDraw'\r\nimport { validateRect, validateVideo } from '../../helpers/validate.helper'\r\nimport { environment } from '../../environment'\r\nimport Layout from '../Layout'\r\nimport { Link } from 'react-router-dom'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport IconCamera from '@material-ui/icons/Camera'\r\nimport IconAccept from '@material-ui/icons/Done'\r\nimport IconCancel from '@material-ui/icons/Cancel'\r\nimport IconSensor from '@material-ui/icons/Contacts'\r\n\r\nconst imageSetting = require('../../images/setting.jpg')\r\n\r\nconst styles = (theme: Object) => ({\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n    width: 160\r\n  },\r\n  divider: {\r\n    marginTop: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n})\r\n\r\nconst NumberFormatCustom = (props: any) => {\r\n  const { inputRef, onChange, ...other } = props\r\n\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      getInputRef={inputRef}\r\n      onValueChange={(values: any) => {\r\n        onChange({\r\n          target: {\r\n            value: values.value\r\n          }\r\n        })\r\n      }}\r\n      allowNegative={false}\r\n    />\r\n  )\r\n}\r\n\r\ntype ProvidedProps = {\r\n  classes: Object\r\n}\r\n\r\ntype Props = {\r\n  classes: Object,\r\n  setting: StateSetting,\r\n  infoSet: (input: StateInfo) => {},\r\n  modifyRect: (input: CanvasRect) => {},\r\n  modifyVideo: (input: VideoConstraints) => {}\r\n}\r\n\r\ntype State = {\r\n  isPlaying: boolean,\r\n  rect: CanvasRect,\r\n  rectError: CanvasRectError,\r\n  video: VideoConstraints,\r\n  videoError: VideoConstraintsError\r\n}\r\n\r\nclass Setting extends React.Component<ProvidedProps & Props, State> {\r\n  constructor(props: ProvidedProps & Props) {\r\n    super(props)\r\n    this.state = {\r\n      isPlaying: false,\r\n      rect: this.props.setting.rect,\r\n      rectError: {\r\n        x: { onoff: false, message: '' },\r\n        y: { onoff: false, message: '' },\r\n        width: { onoff: false, message: '' },\r\n        height: { onoff: false, message: '' }\r\n      },\r\n      video: this.props.setting.video,\r\n      videoError: {\r\n        width: { onoff: false, message: '' },\r\n        height: { onoff: false, message: '' }\r\n      }\r\n    }\r\n  }\r\n\r\n  // ================================================================================\r\n  // React event handler functions\r\n  // ================================================================================\r\n  handleWebcam = () => {\r\n    if (this.state.isPlaying) {\r\n      this.setState({\r\n        isPlaying: false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        isPlaying: true\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPosition = (input: CanvasRect) => {\r\n    this.setState({ rect: input })\r\n  }\r\n\r\n  handleAccept = () => {\r\n    this.props.modifyRect(this.state.rect)\r\n    this.props.modifyVideo(this.state.video)\r\n    this.props.infoSet({\r\n      onoff: true,\r\n      variant: 'info',\r\n      message: 'Configuration set'\r\n    })\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      rect: this.props.setting.rect,\r\n      rectError: {\r\n        x: { onoff: false, message: '' },\r\n        y: { onoff: false, message: '' },\r\n        width: { onoff: false, message: '' },\r\n        height: { onoff: false, message: '' }\r\n      },\r\n      video: this.props.setting.video,\r\n      videoError: {\r\n        width: { onoff: false, message: '' },\r\n        height: { onoff: false, message: '' }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleInputRect = (column: string) => (event: any) => {\r\n    if (event.target.value.length > 0) {\r\n      const value = parseInt(event.target.value)\r\n      const input = { ...this.state.rect, [column]: value }\r\n      const error = validateRect(input)\r\n\r\n      if (error.isValid) {\r\n        this.setState({ rect: input, rectError: error.errors })\r\n        this.props.infoSet({\r\n          onoff: true,\r\n          variant: 'error',\r\n          message: 'Invalid inputs'\r\n        })\r\n      } else {\r\n        this.setState({\r\n          rect: input,\r\n          rectError: {\r\n            x: { onoff: false, message: '' },\r\n            y: { onoff: false, message: '' },\r\n            width: { onoff: false, message: '' },\r\n            height: { onoff: false, message: '' }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInputVideo = (column: string) => (event: any) => {\r\n    if (event.target.value.length > 0) {\r\n      const value = parseInt(event.target.value)\r\n      const input = { ...this.state.video, [column]: value }\r\n      const error = validateVideo(input)\r\n\r\n      if (error.isValid) {\r\n        this.setState({ video: input, videoError: error.errors })\r\n        this.props.infoSet({\r\n          onoff: true,\r\n          variant: 'error',\r\n          message: 'Invalid inputs'\r\n        })\r\n      } else {\r\n        this.setState({\r\n          video: input,\r\n          videoError: {\r\n            width: { onoff: false, message: '' },\r\n            height: { onoff: false, message: '' }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  // ================================================================================\r\n  // React render functions\r\n  // ================================================================================\r\n\r\n  renderButton = () => {\r\n    const renderWebcamPower = this.state.isPlaying ? (\r\n      <Tooltip title=\"Webcam stop\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleWebcam}\r\n          color=\"secondary\">\r\n          <IconCamera />\r\n        </IconButton>\r\n      </Tooltip>\r\n    ) : (\r\n      <Tooltip title=\"Webcam start\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleWebcam}\r\n          color=\"primary\">\r\n          <IconCamera />\r\n        </IconButton>\r\n      </Tooltip>\r\n    )\r\n\r\n    return (\r\n      <div>\r\n        {renderWebcamPower}\r\n        <Tooltip title=\"Set configuration\">\r\n          <IconButton\r\n            className={this.props.classes.icon}\r\n            onClick={this.handleAccept}\r\n            color=\"primary\">\r\n            <IconAccept />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Cancel\">\r\n          <IconButton\r\n            className={this.props.classes.icon}\r\n            onClick={this.handleCancel}\r\n            color=\"primary\">\r\n            <IconCancel />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"To face recognize sensor\">\r\n          <Link to=\"/sensor\">\r\n            <IconButton className={this.props.classes.icon} color=\"primary\">\r\n              <IconSensor />\r\n            </IconButton>\r\n          </Link>\r\n        </Tooltip>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderWebCam = () => {\r\n    if (this.state.isPlaying) {\r\n      return (\r\n        <WebcamRectDraw\r\n          audio={false}\r\n          videoWidth={environment.videoCanvas.width}\r\n          videoHeight={environment.videoCanvas.height}\r\n          videoConstraints={this.props.setting.video}\r\n          rectColor={'lime'}\r\n          getPosition={rect => this.handleGetPosition(rect)}\r\n          rect={this.state.rect}\r\n        />\r\n      )\r\n    } else {\r\n      return <img src={imageSetting} alt={'setting'} width={640} height={480} />\r\n    }\r\n  }\r\n\r\n  renderInputRect = () => {\r\n    const listRect = ['x', 'y', 'width', 'height']\r\n\r\n    return listRect.reduce((output: any[], data: string, i: number) => {\r\n      output.push(\r\n        <TextField\r\n          id={data}\r\n          key={data + i.toString()}\r\n          label={'Rect:' + data}\r\n          error={this.state.rectError[data].onoff}\r\n          helperText={this.state.rectError[data].message}\r\n          className={this.props.classes.formControl}\r\n          value={this.state.rect[data]}\r\n          onInput={this.handleInputRect(data)}\r\n          margin=\"normal\"\r\n          InputProps={{\r\n            inputComponent: NumberFormatCustom\r\n          }}\r\n        />\r\n      )\r\n      return output\r\n    }, [])\r\n  }\r\n\r\n  renderInputVideo = () => {\r\n    const listVideo = ['width', 'height']\r\n\r\n    return listVideo.reduce((output: any[], data: string, i: number) => {\r\n      output.push(\r\n        <TextField\r\n          id={data}\r\n          key={data + i.toString()}\r\n          label={'Video:' + data}\r\n          error={this.state.videoError[data].onoff}\r\n          helperText={this.state.videoError[data].message}\r\n          className={this.props.classes.formControl}\r\n          value={this.state.video[data]}\r\n          onInput={this.handleInputVideo(data)}\r\n          margin=\"normal\"\r\n          InputProps={{\r\n            inputComponent: NumberFormatCustom\r\n          }}\r\n        />\r\n      )\r\n      return output\r\n    }, [])\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout\r\n        helmet={true}\r\n        title={'Camera Settings'}\r\n        gridNormal={6}\r\n        gridPhone={10}\r\n        content={\r\n          <Card className={this.props.classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n                Camera Settings\r\n              </Typography>\r\n              <Divider className={this.props.classes.divider} />\r\n              <Grid\r\n                container={true}\r\n                className={this.props.classes.grid}\r\n                justify=\"center\">\r\n                {this.renderWebCam()}\r\n              </Grid>\r\n              <Divider className={this.props.classes.divider} />\r\n              {this.renderButton()}\r\n              <div>{this.renderInputRect()}</div>\r\n              <div>{this.renderInputVideo()}</div>\r\n            </CardContent>\r\n          </Card>\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nSetting.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  setting: PropTypes.shape({\r\n    rect: PropTypes.shape({\r\n      x: PropTypes.number,\r\n      y: PropTypes.number,\r\n      width: PropTypes.number,\r\n      height: PropTypes.number\r\n    }),\r\n    video: PropTypes.shape({\r\n      width: PropTypes.number,\r\n      height: PropTypes.number\r\n    })\r\n  })\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  return {\r\n    setting: state.setting\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    infoSet: input => {\r\n      dispatch(actionInfo.infoSet(input))\r\n    },\r\n    modifyVideo: input => {\r\n      dispatch(actionSetting.modifyVideo(input))\r\n    },\r\n    modifyRect: input => {\r\n      dispatch(actionSetting.modifyRect(input))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(Setting))\r\n","// @flow\r\n\r\n// import Validator from 'validator'\r\nimport isEmpty from 'is-empty'\r\nimport type {\r\n  CanvasRect,\r\n  CanvasRectError,\r\n  VideoConstraints,\r\n  VideoConstraintsError\r\n} from '../models/misc.model'\r\n\r\nexport function validateRect(\r\n  input: CanvasRect\r\n): {\r\n  errors: CanvasRectError,\r\n  isValid: boolean\r\n} {\r\n  let isValid = false\r\n  const errors = {\r\n    x: { onoff: false, message: '' },\r\n    y: { onoff: false, message: '' },\r\n    width: { onoff: false, message: '' },\r\n    height: { onoff: false, message: '' }\r\n  }\r\n\r\n  if (isEmpty(input.x)) {\r\n    errors.x = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n  if (isEmpty(input.y)) {\r\n    errors.y = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n  if (isEmpty(input.width)) {\r\n    errors.width = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n  if (isEmpty(input.height)) {\r\n    errors.height = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n\r\n  return {\r\n    errors,\r\n    isValid: isValid\r\n  }\r\n}\r\n\r\nexport function validateVideo(\r\n  input: VideoConstraints\r\n): {\r\n  errors: VideoConstraintsError,\r\n  isValid: boolean\r\n} {\r\n  let isValid = false\r\n  const errors = {\r\n    width: { onoff: false, message: '' },\r\n    height: { onoff: false, message: '' }\r\n  }\r\n\r\n  if (isEmpty(input.width)) {\r\n    errors.width = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n  if (isEmpty(input.height)) {\r\n    errors.height = { onoff: true, message: 'Invalid input' }\r\n    isValid = true\r\n  }\r\n\r\n  return {\r\n    errors,\r\n    isValid: isValid\r\n  }\r\n}\r\n","// @flow\r\n\r\nimport { Action } from '../models/action.model'\r\nimport { actionSetting } from '../models/setting.model'\r\nimport type { CanvasRect, VideoConstraints } from '../models/misc.model'\r\n\r\nexport function modifyVideo(input: VideoConstraints): Action<VideoConstraints> {\r\n  return {\r\n    type: actionSetting.SETTING_VIDEO,\r\n    payload: input\r\n  }\r\n}\r\n\r\nexport function modifyRect(input: CanvasRect): Action<CanvasRect> {\r\n  return {\r\n    type: actionSetting.SETTING_RECT,\r\n    payload: input\r\n  }\r\n}\r\n","// @flow\r\n\r\nimport * as faceapi from 'face-api.js'\r\n\r\nexport function calcEAR(landmarks: { x: number, y: number }[]): number {\r\n  const eyeWidth = faceapi.euclideanDistance(\r\n    [landmarks[0].x, landmarks[0].y],\r\n    [landmarks[3].x, landmarks[3].y]\r\n  )\r\n  const eyeHeightA = faceapi.euclideanDistance(\r\n    [landmarks[1].x, landmarks[1].y],\r\n    [landmarks[5].x, landmarks[5].y]\r\n  )\r\n  const eyeHeightB = faceapi.euclideanDistance(\r\n    [landmarks[2].x, landmarks[2].y],\r\n    [landmarks[4].x, landmarks[4].y]\r\n  )\r\n  const EAR = (eyeHeightA + eyeHeightB) / (eyeWidth * 2)\r\n\r\n  return Math.floor(EAR * 100)\r\n}\r\n","// @flow\r\n\r\nimport * as faceapi from 'face-api.js'\r\nimport { environment } from '../environment'\r\n\r\nexport const loadModel = async () => {\r\n  const dev = process.env.NODE_ENV === 'development'\r\n  if (dev) {\r\n    if (environment.useTinyFaceDetector) {\r\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\r\n        environment.urlDev + 'models'\r\n      )\r\n    } else {\r\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\r\n        environment.urlDev + 'models'\r\n      )\r\n    }\r\n    if (environment.useTinyLandmark) {\r\n      await faceapi.nets.faceLandmark68TinyNet.loadFromUri(\r\n        environment.urlDev + 'models'\r\n      )\r\n    } else {\r\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\r\n        environment.urlDev + 'models'\r\n      )\r\n    }\r\n  } else {\r\n    if (environment.useTinyFaceDetector) {\r\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\r\n        environment.urlProd + 'models'\r\n      )\r\n    } else {\r\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\r\n        environment.urlProd + 'models'\r\n      )\r\n    }\r\n    if (environment.useTinyLandmark) {\r\n      await faceapi.nets.faceLandmark68TinyNet.loadFromUri(\r\n        environment.urlProd + 'models'\r\n      )\r\n    } else {\r\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\r\n        environment.urlProd + 'models'\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport const modelInitial = async (canvasId: string) => {\r\n  const initial = document.getElementById(canvasId)\r\n  if (environment.useTinyFaceDetector) {\r\n    await faceapi\r\n      .detectAllFaces(\r\n        initial,\r\n        new faceapi.TinyFaceDetectorOptions({\r\n          inputSize: environment.tinyInputSize,\r\n          scoreThreshold: environment.tinyThreshold\r\n        })\r\n      )\r\n      .withFaceLandmarks(environment.useTinyLandmark)\r\n  } else {\r\n    await faceapi\r\n      .detectAllFaces(\r\n        initial,\r\n        new faceapi.SsdMobilenetv1Options({\r\n          minConfidence: environment.ssdMinConfidence,\r\n          maxResults: environment.ssdMaxResults\r\n        })\r\n      )\r\n      .withFaceLandmarks(environment.useTinyLandmark)\r\n  }\r\n}\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Webcam, { audioConstraintType, videoConstraintType } from './Webcam'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst styles = (theme: Object) => ({\r\n  hidden: {\r\n    display: 'none'\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object\r\n}\r\n\r\ntype Props = {\r\n  classes: Object,\r\n  cropx: number,\r\n  cropy: number,\r\n  cropwidth: number,\r\n  cropheight: number,\r\n  audio: boolean,\r\n  videoWidth: number,\r\n  videoHeight: number,\r\n  tickRender: number,\r\n  idVideo: string,\r\n  idCanvas: string,\r\n  audioConstraints: Object,\r\n  videoConstraints: Object\r\n}\r\n\r\nclass WebcamCrop extends React.Component<ProvidedProps & Props> {\r\n  static propTypes = {\r\n    idVideo: PropTypes.string,\r\n    idCanvas: PropTypes.string,\r\n    classes: PropTypes.object.isRequired,\r\n    videoWidth: PropTypes.number.isRequired,\r\n    videoHeight: PropTypes.number.isRequired,\r\n    tickRender: PropTypes.number.isRequired,\r\n    audio: PropTypes.bool.isRequired,\r\n    cropx: PropTypes.number.isRequired,\r\n    cropy: PropTypes.number.isRequired,\r\n    cropwidth: PropTypes.number.isRequired,\r\n    cropheight: PropTypes.number.isRequired,\r\n    audioConstraints: audioConstraintType,\r\n    videoConstraints: videoConstraintType\r\n  }\r\n\r\n  static defaultProps = {\r\n    idVideo: 'react-webcam-crop',\r\n    idCanvas: 'react-webcam-crop-canvas',\r\n    videoWidth: 640,\r\n    videoHeight: 360,\r\n    tickRender: 100,\r\n    audio: false,\r\n    cropx: 0,\r\n    cropy: 0,\r\n    cropwidth: 640,\r\n    cropheight: 360\r\n  }\r\n  interval: number = 0\r\n  webcam: HTMLVideoElement | null\r\n\r\n  componentDidMount() {\r\n    this.interval = window.setInterval(\r\n      () => this.handleRender(),\r\n      this.props.tickRender\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearInterval(this.interval)\r\n  }\r\n\r\n  handleRender = () => {\r\n    const video = document.getElementById(this.props.idVideo)\r\n    const canvas = document.getElementById(this.props.idCanvas)\r\n\r\n    if (\r\n      canvas instanceof HTMLCanvasElement &&\r\n      video instanceof HTMLVideoElement\r\n    ) {\r\n      const ctx = canvas.getContext('2d')\r\n      const mulX = Math.round(this.props.videoConstraints.width / 640)\r\n      const mulY = Math.round(this.props.videoConstraints.height / 360)\r\n      ctx.drawImage(\r\n        video,\r\n        this.props.cropx * mulX,\r\n        this.props.cropy * mulY,\r\n        this.props.cropwidth * mulX,\r\n        this.props.cropheight * mulY,\r\n        0,\r\n        0,\r\n        this.props.videoWidth,\r\n        this.props.videoHeight\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Webcam\r\n          className={this.props.classes.hidden}\r\n          id={this.props.idVideo}\r\n          audio={this.props.audio}\r\n          width={1280}\r\n          height={720}\r\n          ref={node => (this.webcam = node)}\r\n          videoConstraints={this.props.videoConstraints}\r\n          audioConstraints={this.props.audioConstraints}\r\n        />\r\n        <canvas\r\n          id={this.props.idCanvas}\r\n          width={this.props.videoWidth}\r\n          height={this.props.videoHeight}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(WebcamCrop)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Layout from '../Layout'\r\nimport Card from '@material-ui/core/Card'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst imageBlack = require('../../images/black.png')\r\n\r\nconst styles = (theme: Object) => ({\r\n  paper: {\r\n    borderRadius: '2px',\r\n    paddingTop: '40px',\r\n    paddingBottom: '40px',\r\n    paddingLeft: '40px',\r\n    paddingRight: '40px'\r\n  },\r\n  hidden: {\r\n    display: 'none'\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst Loading = (props: Props) => {\r\n  return (\r\n    <Layout\r\n      helmet={true}\r\n      title={'Sensor'}\r\n      content={\r\n        <Card className={props.classes.paper}>\r\n          <Typography>Loading...</Typography>\r\n          <LinearProgress />\r\n          <img\r\n            className={props.classes.hidden}\r\n            id=\"initial_black\"\r\n            src={imageBlack}\r\n            alt=\"initial_black\"\r\n          />\r\n        </Card>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nLoading.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Loading)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as actionInfo from '../../actions/info.action'\r\nimport type { Dispatch, RouterHistory } from '../../models'\r\nimport type { StateSetting } from '../../models/setting.model'\r\nimport { withRouter } from 'react-router-dom'\r\nimport * as faceapi from 'face-api.js'\r\nimport { calcEAR } from '../../helpers/eye.helper'\r\nimport { loadModel, modelInitial } from '../../helpers/model.helper'\r\nimport { environment } from '../../environment'\r\nimport Layout from '../Layout'\r\nimport { Link } from 'react-router-dom'\r\nimport WebcamCrop from '../../componments/WebcamCrop'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport IconCamera from '@material-ui/icons/Camera'\r\nimport IconSettings from '@material-ui/icons/Settings'\r\nimport IconSensor from '@material-ui/icons/Contacts'\r\n\r\nimport Loading from './Loading'\r\n\r\nconst imageSensor = require('../../images/sensor.jpg')\r\n\r\nconst styles = (theme: Object) => ({\r\n  divider: {\r\n    marginTop: '10px',\r\n    marginBottom: '10px'\r\n  },\r\n  webcamContainer: {\r\n    position: 'relative'\r\n  },\r\n  webcam: {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: '0px'\r\n  },\r\n  webcamOverlay: {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: '0px',\r\n    zIndex: 10\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object,\r\n  history: RouterHistory\r\n}\r\n\r\ntype Props = {\r\n  setting: StateSetting,\r\n  actionsI: Dispatch\r\n}\r\n\r\ntype State = {\r\n  isLoading: boolean,\r\n  isPlaying: boolean,\r\n  isSensing: boolean,\r\n  processTime: number\r\n}\r\n\r\nclass Sensor extends React.Component<ProvidedProps & Props, State> {\r\n  state = {\r\n    isLoading: true,\r\n    isPlaying: false,\r\n    isSensing: false,\r\n    processTime: 0\r\n  }\r\n  interval = 0\r\n  tick = 0\r\n  tickProcess = 0\r\n  tickBlink = 0\r\n\r\n  componentDidMount = async () => {\r\n    await loadModel()\r\n    await modelInitial('initial_black')\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  // ================================================================================\r\n  // React event handler functions\r\n  // ================================================================================\r\n  handleWebcam = () => {\r\n    if (this.state.isPlaying) {\r\n      window.clearInterval(this.interval)\r\n      const canvas = document.getElementById('sensor_webcamcrop_overlay')\r\n      if (canvas instanceof HTMLCanvasElement) {\r\n        const context = canvas.getContext('2d')\r\n        context.clearRect(0, 0, canvas.width, canvas.height)\r\n      }\r\n      this.tickBlink = 0\r\n      this.setState({\r\n        isPlaying: false,\r\n        isSensing: false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        isPlaying: true\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSense = async () => {\r\n    if (this.state.isSensing) {\r\n      await window.clearInterval(this.interval)\r\n      const canvas = document.getElementById('sensor_webcamcrop_overlay')\r\n      if (canvas instanceof HTMLCanvasElement) {\r\n        const context = canvas.getContext('2d')\r\n        context.clearRect(0, 0, canvas.width, canvas.height)\r\n      }\r\n      this.tickBlink = 0\r\n      this.setState({\r\n        isSensing: false\r\n      })\r\n    } else {\r\n      this.interval = window.setInterval(async () => await this.faceMain(), 10)\r\n      this.tickBlink = 0\r\n      this.setState({\r\n        isSensing: true\r\n      })\r\n    }\r\n  }\r\n\r\n  // ================================================================================\r\n  // Facec recognition functions\r\n  // ================================================================================\r\n  faceMain = async () => {\r\n    const image = document.getElementById('sensor_webcamcrop')\r\n    const canvas = document.getElementById('sensor_webcamcrop_overlay')\r\n    if (\r\n      canvas instanceof HTMLCanvasElement &&\r\n      image instanceof HTMLCanvasElement\r\n    ) {\r\n      await this.faceRecognize(canvas, image)\r\n      const tend = performance.now()\r\n      this.tickProcess = Math.floor(tend - this.tick)\r\n      const tickProcess = this.tickProcess.toString() + ' ms'\r\n      this.tick = tend\r\n      const anchor = { x: 0, y: this.props.setting.rect.height * 2 }\r\n      const drawOptions = {\r\n        anchorPosition: 'TOP_LEFT',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        fontColor: 'yellow'\r\n      }\r\n      const drawBox = new faceapi.draw.DrawTextField(\r\n        tickProcess,\r\n        anchor,\r\n        drawOptions\r\n      )\r\n      drawBox.draw(canvas)\r\n    }\r\n  }\r\n\r\n  faceRecognize = async (\r\n    canvas: HTMLCanvasElement,\r\n    image: HTMLCanvasElement\r\n  ) => {\r\n    const result = await faceapi\r\n      .detectSingleFace(\r\n        image,\r\n        new faceapi.TinyFaceDetectorOptions({\r\n          inputSize: environment.tinyInputSize,\r\n          scoreThreshold: environment.tinyThreshold\r\n        })\r\n      )\r\n      .withFaceLandmarks(true)\r\n\r\n    if (result) {\r\n      faceapi.matchDimensions(canvas, image)\r\n      const resizedResult = faceapi.resizeResults(result, image)\r\n      faceapi.draw.drawDetections(canvas, resizedResult)\r\n      faceapi.draw.drawFaceLandmarks(canvas, resizedResult)\r\n\r\n      const leftEye = resizedResult.landmarks.getLeftEye()\r\n      const rightEye = resizedResult.landmarks.getRightEye()\r\n      const EAR = calcEAR(leftEye) + calcEAR(rightEye)\r\n      const text = ['EAR: ' + EAR.toString()]\r\n      if (EAR < environment.blinkEARThreshold) {\r\n        this.tickBlink += this.tickProcess\r\n        text.push('Time:' + this.tickBlink.toString())\r\n        if (this.tickBlink > environment.blinkTimeThreshold)\r\n          text.push('DROWSINESS ALERT!!')\r\n      } else {\r\n        this.tickBlink = 0\r\n      }\r\n      const anchor = { x: 0, y: 0 }\r\n      const drawOptions = {\r\n        anchorPosition: 'TOP_LEFT',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        fontColor: 'yellow'\r\n      }\r\n      const drawBox = new faceapi.draw.DrawTextField(text, anchor, drawOptions)\r\n      drawBox.draw(canvas)\r\n    } else {\r\n      this.tickBlink = 0\r\n      const context = canvas.getContext('2d')\r\n      context.clearRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n  }\r\n\r\n  // ================================================================================\r\n  // React render functions\r\n  // ================================================================================\r\n  renderButton = () => {\r\n    const renderWebcamPower = this.state.isPlaying ? (\r\n      <Tooltip title=\"Webcam stop\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleWebcam}\r\n          color=\"secondary\">\r\n          <IconCamera />\r\n        </IconButton>\r\n      </Tooltip>\r\n    ) : (\r\n      <Tooltip title=\"Webcam start\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleWebcam}\r\n          color=\"primary\">\r\n          <IconCamera />\r\n        </IconButton>\r\n      </Tooltip>\r\n    )\r\n\r\n    const renderRecognize = this.state.isSensing ? (\r\n      <Tooltip title=\"Recognize stop\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleSense}\r\n          color=\"secondary\">\r\n          <IconSensor />\r\n        </IconButton>\r\n      </Tooltip>\r\n    ) : (\r\n      <Tooltip title=\"Recognize start\">\r\n        <IconButton\r\n          className={this.props.classes.icon}\r\n          onClick={this.handleSense}\r\n          color=\"primary\">\r\n          <IconSensor />\r\n        </IconButton>\r\n      </Tooltip>\r\n    )\r\n\r\n    return (\r\n      <CardActions>\r\n        {renderWebcamPower}\r\n        <Tooltip title=\"Camera settings\">\r\n          <Link to=\"/setting\">\r\n            <IconButton className={this.props.classes.icon} color=\"primary\">\r\n              <IconSettings />\r\n            </IconButton>\r\n          </Link>\r\n        </Tooltip>\r\n        {this.state.isPlaying ? renderRecognize : null}\r\n      </CardActions>\r\n    )\r\n  }\r\n\r\n  renderWebCam = () => {\r\n    const { setting } = this.props\r\n\r\n    if (this.state.isPlaying) {\r\n      return (\r\n        <div className={this.props.classes.webcamContainer}>\r\n          <WebcamCrop\r\n            className={this.props.classes.webcam}\r\n            audio={false}\r\n            idCanvas={'sensor_webcamcrop'}\r\n            videoWidth={setting.rect.width * 2}\r\n            videoHeight={setting.rect.height * 2}\r\n            videoConstraints={setting.video}\r\n            cropx={setting.rect.x}\r\n            cropy={setting.rect.y}\r\n            cropwidth={setting.rect.width}\r\n            cropheight={setting.rect.height}\r\n          />\r\n          <canvas\r\n            className={this.props.classes.webcamOverlay}\r\n            id={'sensor_webcamcrop_overlay'}\r\n            width={setting.rect.width * 2}\r\n            height={setting.rect.height * 2}\r\n          />\r\n        </div>\r\n      )\r\n    } else {\r\n      return <img src={imageSensor} alt={'sensor'} width={640} height={480} />\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLoading) return <Loading />\r\n\r\n    return (\r\n      <Layout\r\n        helmet={true}\r\n        title={'Sensor'}\r\n        gridNormal={6}\r\n        gridPhone={10}\r\n        content={\r\n          <Card className={this.props.classes.card}>\r\n            <CardContent>\r\n              <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n                Sensor\r\n              </Typography>\r\n              <Divider className={this.props.classes.divider} />\r\n              <Grid\r\n                container={true}\r\n                className={this.props.classes.grid}\r\n                justify=\"center\">\r\n                {this.renderWebCam()}\r\n              </Grid>\r\n              <Divider className={this.props.classes.divider} />\r\n            </CardContent>\r\n            {this.renderButton()}\r\n          </Card>\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nSensor.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  setting: PropTypes.shape({\r\n    rect: PropTypes.shape({\r\n      x: PropTypes.number,\r\n      y: PropTypes.number,\r\n      width: PropTypes.number,\r\n      height: PropTypes.number\r\n    }),\r\n    video: PropTypes.shape({\r\n      width: PropTypes.number,\r\n      height: PropTypes.number\r\n    })\r\n  })\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    setting: state.setting\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    actionsI: bindActionCreators(actionInfo, dispatch)\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(withRouter(Sensor)))\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Layout from '../Layout'\r\nimport Card from '@material-ui/core/Card'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst imageBlack = require('../../images/black.png')\r\n\r\nconst styles = (theme: Object) => ({\r\n  paper: {\r\n    borderRadius: '2px',\r\n    paddingTop: '40px',\r\n    paddingBottom: '40px',\r\n    paddingLeft: '40px',\r\n    paddingRight: '40px'\r\n  },\r\n  hidden: {\r\n    display: 'none'\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst Loading = (props: Props) => {\r\n  return (\r\n    <Layout\r\n      helmet={true}\r\n      title={'Validator'}\r\n      content={\r\n        <Card className={props.classes.paper}>\r\n          <Typography>Loading...</Typography>\r\n          <LinearProgress />\r\n          <img\r\n            className={props.classes.hidden}\r\n            id=\"initial_black\"\r\n            src={imageBlack}\r\n            alt=\"initial_black\"\r\n          />\r\n        </Card>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nLoading.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Loading)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport * as faceapi from 'face-api.js'\r\nimport { calcEAR } from '../../helpers/eye.helper'\r\nimport { loadModel, modelInitial } from '../../helpers/model.helper'\r\nimport { environment } from '../../environment'\r\nimport Layout from '../Layout'\r\nimport { withStyles } from '@material-ui/core'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport IconAdd from '@material-ui/icons/AddPhotoAlternate'\r\nimport Loading from './Loading'\r\n\r\nconst styles = (theme: Object) => ({\r\n  divider: {\r\n    marginTop: '10px',\r\n    marginBottom: '10px'\r\n  },\r\n  hidden: {\r\n    display: 'none'\r\n  },\r\n  webcamContainer: {\r\n    position: 'relative',\r\n    width: '600px',\r\n    height: '600px'\r\n  },\r\n  webcam: {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: '0px'\r\n  },\r\n  webcamOverlay: {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: '0px',\r\n    zIndex: 10\r\n  },\r\n  grid: {\r\n    flexGrow: 1\r\n  }\r\n})\r\n\r\ntype ProvidedProps = {\r\n  classes: Object\r\n}\r\n\r\ntype Props = {}\r\n\r\ntype State = {\r\n  isLoading: boolean,\r\n  imageFile: string[],\r\n  processTime: number\r\n}\r\n\r\nclass Validator extends React.Component<ProvidedProps & Props, State> {\r\n  state = {\r\n    isLoading: true,\r\n    imageFile: [],\r\n    processTime: 0\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    await loadModel()\r\n    await modelInitial('initial_black')\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  // ================================================================================\r\n  // React event handler functions\r\n  // ================================================================================\r\n  handleUpload = (event: any) => {\r\n    const data = []\r\n\r\n    for (let i = 0; i < event.target.files.length; i += 1) {\r\n      let dataTemp\r\n      if (event.target.files[i] != null) {\r\n        dataTemp = URL.createObjectURL(event.target.files[i])\r\n        data.push(dataTemp)\r\n      }\r\n    }\r\n\r\n    if (data.length > 0) {\r\n      this.setState({\r\n        imageFile: data\r\n      })\r\n\r\n      const image = document.getElementById('input_image')\r\n      const canvas = document.getElementById('input_canvas')\r\n      if (\r\n        canvas instanceof HTMLCanvasElement &&\r\n        image instanceof HTMLImageElement\r\n      ) {\r\n        let scale\r\n        if (image.naturalWidth < 150) scale = 4\r\n        else if (image.naturalWidth < 300) scale = 3\r\n        else if (image.naturalWidth < 600) scale = 2\r\n        else scale = 1\r\n        image.onload = () => {\r\n          canvas.width = image.naturalWidth * scale\r\n          canvas.height = image.naturalHeight * scale\r\n          const ctx = canvas.getContext('2d')\r\n          ctx.drawImage(\r\n            image,\r\n            0,\r\n            0,\r\n            image.naturalWidth,\r\n            image.naturalHeight,\r\n            0,\r\n            0,\r\n            image.naturalWidth * scale,\r\n            image.naturalHeight * scale\r\n          )\r\n          this.faceMain()\r\n        }\r\n      }\r\n    } else {\r\n      this.setState({\r\n        imageFile: []\r\n      })\r\n    }\r\n  }\r\n\r\n  // ================================================================================\r\n  // Facec recognition functions\r\n  // ================================================================================\r\n  faceMain = async () => {\r\n    const image = document.getElementById('input_canvas')\r\n    const canvas = document.getElementById('input_canvas_overlay')\r\n    if (\r\n      canvas instanceof HTMLCanvasElement &&\r\n      image instanceof HTMLCanvasElement\r\n    ) {\r\n      const tstart = performance.now()\r\n      await this.faceRecognize(canvas, image)\r\n      const tend = performance.now()\r\n      const tickProcess = Math.floor(tend - tstart) + ' ms'\r\n      const anchor = { x: 0, y: canvas.height }\r\n      const drawOptions = {\r\n        anchorPosition: 'TOP_LEFT',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        fontColor: 'yellow'\r\n      }\r\n      const drawBox = new faceapi.draw.DrawTextField(\r\n        tickProcess,\r\n        anchor,\r\n        drawOptions\r\n      )\r\n      drawBox.draw(canvas)\r\n    }\r\n  }\r\n\r\n  faceRecognize = async (\r\n    canvas: HTMLCanvasElement,\r\n    image: HTMLCanvasElement\r\n  ) => {\r\n    let result\r\n    if (environment.useTinyFaceDetector) {\r\n      result = await faceapi\r\n        .detectSingleFace(\r\n          image,\r\n          new faceapi.TinyFaceDetectorOptions({\r\n            inputSize: environment.tinyInputSize,\r\n            scoreThreshold: environment.tinyThreshold\r\n          })\r\n        )\r\n        .withFaceLandmarks(environment.useTinyLandmark)\r\n    } else {\r\n      result = await faceapi\r\n        .detectSingleFace(\r\n          image,\r\n          new faceapi.SsdMobilenetv1Options({\r\n            minConfidence: environment.ssdMinConfidence,\r\n            maxResults: environment.ssdMaxResults\r\n          })\r\n        )\r\n        .withFaceLandmarks(environment.useTinyLandmark)\r\n    }\r\n\r\n    if (result) {\r\n      faceapi.matchDimensions(canvas, image)\r\n      const resizedResult = faceapi.resizeResults(result, image)\r\n      faceapi.draw.drawDetections(canvas, resizedResult)\r\n      faceapi.draw.drawFaceLandmarks(canvas, resizedResult)\r\n\r\n      const leftEye = resizedResult.landmarks.getLeftEye()\r\n      const rightEye = resizedResult.landmarks.getRightEye()\r\n      const EAR = calcEAR(leftEye) + calcEAR(rightEye)\r\n      const text = ['EAR: ' + EAR.toString()]\r\n      const anchor = { x: 0, y: 0 }\r\n      const drawOptions = {\r\n        anchorPosition: 'TOP_LEFT',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        fontColor: 'yellow'\r\n      }\r\n      const drawBox = new faceapi.draw.DrawTextField(text, anchor, drawOptions)\r\n      drawBox.draw(canvas)\r\n    } else {\r\n      const context = canvas.getContext('2d')\r\n      context.clearRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n  }\r\n  // ================================================================================\r\n  // React render functions\r\n  // ================================================================================\r\n  render() {\r\n    if (this.state.isLoading) return <Loading />\r\n\r\n    return (\r\n      <Layout\r\n        helmet={true}\r\n        title={'Validator'}\r\n        gridNormal={8}\r\n        gridPhone={10}\r\n        content={\r\n          <Grid container spacing={16}>\r\n            <Grid item xs={4}>\r\n              <Card className={this.props.classes.card}>\r\n                <CardContent>\r\n                  <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n                    Validator\r\n                  </Typography>\r\n                  <Divider className={this.props.classes.divider} />\r\n                  <Grid container={true} justify=\"center\">\r\n                    <img\r\n                      className={\r\n                        this.state.imageFile.length > 0\r\n                          ? null\r\n                          : this.props.classes.hidden\r\n                      }\r\n                      src={this.state.imageFile[0]}\r\n                      id={'input_image'}\r\n                      alt=\"upload\"\r\n                    />\r\n                  </Grid>\r\n                  {this.state.imageFile.length > 0 ? (\r\n                    <Divider className={this.props.classes.divider} />\r\n                  ) : null}\r\n                </CardContent>\r\n                <CardActions>\r\n                  <Tooltip title=\"Select Image\">\r\n                    <IconButton\r\n                      className={this.props.classes.icon}\r\n                      component=\"label\"\r\n                      color=\"primary\">\r\n                      <input\r\n                        className={this.props.classes.hidden}\r\n                        type=\"file\"\r\n                        name=\"fileUpload\"\r\n                        accept=\"image/*\"\r\n                        onChange={this.handleUpload}\r\n                        required\r\n                      />\r\n                      <IconAdd />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Card className={this.props.classes.card}>\r\n                <CardContent>\r\n                  <Grid container={true} justify=\"center\">\r\n                    <div className={this.props.classes.webcamContainer}>\r\n                      <canvas\r\n                        className={this.props.classes.webcam}\r\n                        id={'input_canvas'}\r\n                      />\r\n                      <canvas\r\n                        className={this.props.classes.webcamOverlay}\r\n                        id={'input_canvas_overlay'}\r\n                      />\r\n                    </div>\r\n                  </Grid>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nValidator.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(Validator)\r\n","// @flow\r\n\r\nimport * as React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Route, Switch } from 'react-router'\r\nimport { history } from './configureStore'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport { withStyles } from '@material-ui/core'\r\nimport withRoot from './withRoot'\r\n\r\nimport Header from './pages/Header'\r\nimport Ribbon from './pages/Ribbon'\r\nimport Footer from './pages/Footer'\r\nimport NotFound from './pages/NotFound'\r\n\r\nimport Home from './pages/Home/Home'\r\nimport Setting from './pages/Setting/Setting'\r\nimport Sensor from './pages/Sensor/Sensor'\r\nimport Validator from './pages/Validator/Validator'\r\n\r\nconst styles = (theme: Object) => ({\r\n  root: {\r\n    display: 'flex',\r\n    minHeight: '100vh',\r\n    flexDirection: 'column'\r\n  },\r\n  content: {\r\n    marginTop: '-55vh',\r\n    marginBottom: '60px',\r\n    flex: 1\r\n  }\r\n})\r\n\r\ntype Props = {\r\n  classes: Object\r\n}\r\n\r\nconst App = (props: Props) => {\r\n  return (\r\n    <ConnectedRouter history={history}>\r\n      <div className={props.classes.root}>\r\n        <Header />\r\n        <Ribbon />\r\n        <div className={props.classes.content}>\r\n          <Switch>\r\n            <Route exact={true} path=\"/\" component={Home} />\r\n            <Route exact={true} path=\"/home\" component={Home} />\r\n            <Route exact={true} path=\"/setting\" component={Setting} />\r\n            <Route exact={true} path=\"/sensor\" component={Sensor} />\r\n            <Route exact={true} path=\"/validator\" component={Validator} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </ConnectedRouter>\r\n  )\r\n}\r\n\r\nApp.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withRoot(withStyles(styles)(App))\r\n","import * as React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport App from './App'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { persistor, store } from './configureStore'\r\n\r\nconst ReduxRoot = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <PersistGate\r\n        loading={<Typography>Loading...</Typography>}\r\n        persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default ReduxRoot\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import 'core-js/stable'\r\nimport 'regenerator-runtime/runtime'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport ReduxRoot from './ReduxRoot'\r\nimport registerServiceWorker from './serviceWorker'\r\nimport * as ReactGA from 'react-ga'\r\nimport { environment } from './environment'\r\n\r\nconst rootEl = document.getElementById('mochizuki')\r\nReactDOM.render(<ReduxRoot />, rootEl)\r\n\r\nReactGA.initialize(environment.GoogleAnalyticsID)\r\nReactGA.pageview(window.location.pathname + window.location.search)\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./ReduxRoot', () => {\r\n    const NextApp = require('./ReduxRoot').default\r\n    ReactDOM.render(<NextApp />, rootEl)\r\n  })\r\n}\r\n\r\nregisterServiceWorker()\r\n"],"sourceRoot":""}